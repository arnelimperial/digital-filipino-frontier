(function(i){var p=i(window),r=i("body"),e=i("#wrapper"),t=i("#main"),o={keyboardShortcuts:{enabled:!0,distance:50},scrollWheel:{enabled:!0,factor:1},scrollZones:{enabled:!0,speed:15}};breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:[null,"480px"]}),browser.mobile&&(o.keyboardShortcuts.enabled=!1,o.scrollWheel.enabled=!1,o.scrollZones.enabled=!1,t.css("overflow-x","auto")),browser.name=="ie"&&e.css("height","100vh"),browser.os=="ios"&&e.css("min-height","calc(100vh - 30px)"),p.on("load",function(){window.setTimeout(function(){r.removeClass("is-preload")},100)}),i(".item.thumb").each(function(){i(this).addClass("delay-"+Math.floor(Math.random()*6+1))}),browser.name=="ie"&&i(".item.thumb").each(function(){var n=i(this),a=n.find("img");n.css("background-image","url("+a.attr("src")+")").css("background-size","cover").css("background-position","center"),a.css("opacity","0")}),t.poptrox({onPopupOpen:function(){r.addClass("is-poptrox-visible")},onPopupClose:function(){r.removeClass("is-poptrox-visible")},overlayColor:"#1a1f2c",overlayOpacity:.75,popupCloserText:"",popupLoaderText:"",selector:".item.thumb a.image",caption:function(n){return n.prev("h2").html()},usePopupDefaultStyling:!1,usePopupCloser:!1,usePopupCaption:!0,usePopupNav:!0,windowMargin:50}),breakpoints.on(">small",function(){t[0]._poptrox.windowMargin=50}),breakpoints.on("<=small",function(){t[0]._poptrox.windowMargin=0}),o.keyboardShortcuts.enabled&&function(){p.on("keydown",function(n){var a=!1;if(!r.hasClass("is-poptrox-visible")){switch(n.keyCode){case 37:t.scrollLeft(t.scrollLeft()-o.keyboardShortcuts.distance),a=!0;break;case 39:t.scrollLeft(t.scrollLeft()+o.keyboardShortcuts.distance),a=!0;break;case 33:t.scrollLeft(t.scrollLeft()-p.width()+100),a=!0;break;case 34:case 32:t.scrollLeft(t.scrollLeft()+p.width()-100),a=!0;break;case 36:t.scrollLeft(0),a=!0;break;case 35:t.scrollLeft(t.width()),a=!0;break}a&&(n.preventDefault(),n.stopPropagation(),t.stop())}})}(),o.scrollWheel.enabled&&function(){var n=function(a){var l=10,c=40,s=800,u=0,h=0,d=0,f=0;return"detail"in a?h=a.detail:"wheelDelta"in a?h=a.wheelDelta/-120:"wheelDeltaY"in a&&(h=a.wheelDeltaY/-120),"wheelDeltaX"in a&&(u=a.wheelDeltaX/-120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=h,h=0),d=u*l,f=h*l,"deltaY"in a&&(f=a.deltaY),"deltaX"in a&&(d=a.deltaX),(d||f)&&a.deltaMode&&(a.deltaMode==1?(d*=c,f*=c):(d*=s,f*=s)),d&&!u&&(u=d<1?-1:1),f&&!h&&(h=f<1?-1:1),{spinX:u,spinY:h,pixelX:d,pixelY:f}};r.on("wheel",function(a){if(!breakpoints.active("<=small")){a.preventDefault(),a.stopPropagation(),t.stop();var l=n(a.originalEvent),c=l.pixelX!=0?l.pixelX:l.pixelY,s=Math.min(Math.abs(c),150)*o.scrollWheel.factor,u=c>0?1:-1;t.scrollLeft(t.scrollLeft()+s*u)}})}(),o.scrollZones.enabled&&function(){var n=i('<div class="scrollZone left"></div>'),a=i('<div class="scrollZone right"></div>'),l=n.add(a),c=!1,s=null,u,h=function(f){breakpoints.active("<=small")||c||(t.stop(),u=f,clearInterval(s),s=setInterval(function(){t.scrollLeft(t.scrollLeft()+o.scrollZones.speed*u)},25))},d=function(){c=!1,clearInterval(s)};l.appendTo(e).on("mouseleave mousedown",function(f){d()}),n.css("left","0").on("mouseenter",function(f){h(-1)}),a.css("right","0").on("mouseenter",function(f){h(1)}),r.on("---pauseScrollZone",function(f){c=!0,setTimeout(function(){c=!1},500)})}()})(jQuery);(function(i){i.fn.navList=function(){var p=i(this);return $a=p.find("a"),b=[],$a.each(function(){var r=i(this),e=Math.max(0,r.parents("li").length-1),t=r.attr("href"),o=r.attr("target");b.push('<a class="link depth-'+e+'"'+(typeof o<"u"&&o!=""?' target="'+o+'"':"")+(typeof t<"u"&&t!=""?' href="'+t+'"':"")+'><span class="indent-'+e+'"></span>'+r.text()+"</a>")}),b.join("")},i.fn.panel=function(p){if(this.length==0)return e;if(this.length>1){for(var r=0;r<this.length;r++)i(this[r]).panel(p);return e}var e=i(this),t=i("body"),o=i(window),n=e.attr("id"),a;return a=i.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:e,visibleClass:"visible"},p),typeof a.target!="jQuery"&&(a.target=i(a.target)),e._hide=function(l){a.target.hasClass(a.visibleClass)&&(l&&(l.preventDefault(),l.stopPropagation()),a.target.removeClass(a.visibleClass),window.setTimeout(function(){a.resetScroll&&e.scrollTop(0),a.resetForms&&e.find("form").each(function(){this.reset()})},a.delay))},e.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),a.hideOnClick&&(e.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),e.on("click","a",function(l){var c=i(this),s=c.attr("href"),u=c.attr("target");!s||s=="#"||s==""||s=="#"+n||(l.preventDefault(),l.stopPropagation(),e._hide(),window.setTimeout(function(){u=="_blank"?window.open(s):window.location.href=s},a.delay+10))})),e.on("touchstart",function(l){e.touchPosX=l.originalEvent.touches[0].pageX,e.touchPosY=l.originalEvent.touches[0].pageY}),e.on("touchmove",function(l){if(!(e.touchPosX===null||e.touchPosY===null)){var c=e.touchPosX-l.originalEvent.touches[0].pageX,s=e.touchPosY-l.originalEvent.touches[0].pageY,u=e.outerHeight(),h=e.get(0).scrollHeight-e.scrollTop();if(a.hideOnSwipe){var d=!1,f=20,v=50;switch(a.side){case"left":d=s<f&&s>-1*f&&c>v;break;case"right":d=s<f&&s>-1*f&&c<-1*v;break;case"top":d=c<f&&c>-1*f&&s>v;break;case"bottom":d=c<f&&c>-1*f&&s<-1*v;break}if(d)return e.touchPosX=null,e.touchPosY=null,e._hide(),!1}(e.scrollTop()<0&&s<0||h>u-2&&h<u+2&&s>0)&&(l.preventDefault(),l.stopPropagation())}}),e.on("click touchend touchstart touchmove",function(l){l.stopPropagation()}),e.on("click",'a[href="#'+n+'"]',function(l){l.preventDefault(),l.stopPropagation(),a.target.removeClass(a.visibleClass)}),t.on("click touchend",function(l){e._hide(l)}),t.on("click",'a[href="#'+n+'"]',function(l){l.preventDefault(),l.stopPropagation(),a.target.toggleClass(a.visibleClass)}),a.hideOnEscape&&o.on("keydown",function(l){l.keyCode==27&&e._hide(l)}),e},i.fn.placeholder=function(){if(typeof document.createElement("input").placeholder<"u")return i(this);if(this.length==0)return r;if(this.length>1){for(var p=0;p<this.length;p++)i(this[p]).placeholder();return r}var r=i(this);return r.find("input[type=text],textarea").each(function(){var e=i(this);(e.val()==""||e.val()==e.attr("placeholder"))&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=i(this);e.attr("name").match(/-polyfill-field$/)||e.val()==""&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=i(this);e.attr("name").match(/-polyfill-field$/)||e.val()==e.attr("placeholder")&&e.removeClass("polyfill-placeholder").val("")}),r.find("input[type=password]").each(function(){var e=i(this),t=i(i("<div>").append(e.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));e.attr("id")!=""&&t.attr("id",e.attr("id")+"-polyfill-field"),e.attr("name")!=""&&t.attr("name",e.attr("name")+"-polyfill-field"),t.addClass("polyfill-placeholder").val(t.attr("placeholder")).insertAfter(e),e.val()==""?e.hide():t.hide(),e.on("blur",function(o){o.preventDefault();var n=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]");e.val()==""&&(e.hide(),n.show())}),t.on("focus",function(o){o.preventDefault();var n=t.parent().find("input[name="+t.attr("name").replace("-polyfill-field","")+"]");t.hide(),n.show().focus()}).on("keypress",function(o){o.preventDefault(),t.val("")})}),r.on("submit",function(){r.find("input[type=text],input[type=password],textarea").each(function(e){var t=i(this);t.attr("name").match(/-polyfill-field$/)&&t.attr("name",""),t.val()==t.attr("placeholder")&&(t.removeClass("polyfill-placeholder"),t.val(""))})}).on("reset",function(e){e.preventDefault(),r.find("select").val(i("option:first").val()),r.find("input,textarea").each(function(){var t=i(this),o;switch(t.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":t.val(t.attr("defaultValue")),o=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]"),t.val()==""?(t.hide(),o.show()):(t.show(),o.hide());break;case"checkbox":case"radio":t.attr("checked",t.attr("defaultValue"));break;case"text":case"textarea":t.val(t.attr("defaultValue")),t.val()==""&&(t.addClass("polyfill-placeholder"),t.val(t.attr("placeholder")));break;default:t.val(t.attr("defaultValue"));break}})}),r},i.prioritize=function(p,r){var e="__prioritize";typeof p!="jQuery"&&(p=i(p)),p.each(function(){var t=i(this),o,n=t.parent();if(n.length!=0)if(t.data(e)){if(r)return;o=t.data(e),t.insertAfter(o),t.removeData(e)}else{if(!r||(o=t.prev(),o.length==0))return;t.prependTo(n),t.data(e,o)}})}})(jQuery);
